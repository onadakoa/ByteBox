(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{70601:e=>{var{g:t,__dirname:a}=e;e.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},15614:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a});var i=e.i(70601);let t={className:i.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let a=t}},37234:e=>{var{g:t,__dirname:a}=e;e.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},27660:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a});var i=e.i(37234);let t={className:i.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let a=t}},63836:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({}),e.i(15614),e.i(27660)},15141:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({}),e.i(15614),e.i(27660),e.i(63836)},27844:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({poppins:()=>i.default});var i=e.i(15614)},21554:e=>{var{g:t,__dirname:a}=e;e.v({container:"Loading-module__5VDP-q__container",pulse:"Loading-module__5VDP-q__pulse"})},49641:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({Loading:()=>r});var i=e.i(31636),l=e.i(21554);function r(e){return(0,i.jsx)("span",{className:l.default.container,children:e.children})}},18408:e=>{var{g:t,__dirname:a}=e;e.v({container:"Button-module__8cr-Ka__container"})},96150:e=>{var{g:t,__dirname:a}=e;e.v({className:"roboto_498287c9-module__wIVGaW__className"})},103:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a});var i=e.i(96150);let t={className:i.default.className,style:{fontFamily:"'Roboto', 'Roboto Fallback'",fontWeight:400,fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let a=t}},81508:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({default:()=>s});var i=e.i(31636),l=e.i(18408),r=e.i(103);function s(e){let t={"--Color":e.color||"white","--BColor":e.backgroundColor||"var(--green-color)"};return(0,i.jsx)("div",{style:t,className:[r.default.className,l.default.container].join(" "),onClick:e.onClick,children:e.children})}},82069:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({Product:()=>t});var i=e.i(27426),l=e.i(45622);class t{product_id=0;attachment_id=null;category_id=null;author_id=0;name="";description="";price=0;stock=0;fill(e){Object.assign(this,e)}static getFilled(e){let a=new t;return a.fill(e),a}getCategory(){return this.category_id?i.Category.getById(this.category_id):null}fetchAttachment(){return this.attachment_id?l.Attachment.fetchById(this.attachment_id):null}}}},27426:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({Category:()=>t});var i=e.i(39563);class t{alias=[];id=0;name="";fill(e){Object.assign(this,e)}static getFilled(e){let a=new t;return a.fill(e),a}static async getById(e){let a=await fetch("/api/categories/index.php?id="+e),l=null;try{l=await a.json()}catch(e){console.error(`Category ERROR: ${e}`)}if(!a.ok)throw console.error(`Category ERROR: ${l}`),new i.JsonError(a.status,l);return t.getFilled(l?.d)}}}},82653:function(e){var{g:t,__dirname:a,m:i,e:l}=e;{e.i(22271);"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r={default:function(){return n},getImageProps:function(){return c}};for(var s in r)Object.defineProperty(l,s,{enumerable:!0,get:r[s]});let t=e.r(13314),a=e.r(61311),i=e.r(11772),o=t._(e.r(55836));function c(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:JSON.parse('{"deviceSizes":[640,750,828,1080,1200,1920,2048,3840],"imageSizes":[16,32,48,64,96,128,256,384],"path":"/_next/image","loader":"default","dangerouslyAllowSVG":false,"unoptimized":true}')});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let n=i.Image}},12568:function(e){var{g:t,__dirname:a,m:i,e:l}=e;i.exports=e.r(82653)},45622:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({ApiImage:()=>a,Attachment:()=>t});var i=e.i(39563);class t{attachment_id=0;author_id=0;creation_date=0;images=[];fill(e){Object.assign(this,e)}getImages(){return this.images.map(e=>a.getFilled(e))}static getFilled(e){let a=new t;return a.fill(e),a}static async fetchById(e){try{let a=await fetch("/api/attachments/index.php?id="+e),l=await a.json();if(!a.ok)throw new i.JsonError(a.status,l);return t.getFilled(l?.d)}catch(e){throw console.error(`Attachment ERROR: ${e}`),e}}}class a{id=0;size=0;type="";fill(e){Object.assign(this,e)}static getFilled(e){let t=new a;return t.fill(e),t}getURL(){return"/api/attachments/image.php?id="+this.id}}}},26408:e=>{var{g:t,__dirname:a}=e;e.v({bottom:"ProductView-module__K1HEGG__bottom",container:"ProductView-module__K1HEGG__container",det:"ProductView-module__K1HEGG__det",details:"ProductView-module__K1HEGG__details",name:"ProductView-module__K1HEGG__name",top:"ProductView-module__K1HEGG__top"})},164:e=>{var{g:t,__dirname:a}=e;e.v({className:"poppins_44e0b769-module__UNp3KW__className"})},80695:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a});var i=e.i(164);let t={className:i.default.className,style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let a=t}},12007:e=>{var{g:t,__dirname:a}=e;e.v({className:"roboto_3f36d792-module__uGu9Oa__className"})},41793:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({default:()=>a});var i=e.i(12007);let t={className:i.default.className,style:{fontFamily:"'Roboto', 'Roboto Fallback'",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let a=t}},14722:e=>{var{g:t,__dirname:a}=e;e.v({container:"ImageSelector-module__HlQR2G__container",list:"ImageSelector-module__HlQR2G__list",main:"ImageSelector-module__HlQR2G__main"})},13569:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({ImageSelector:()=>n});var i=e.i(31636),l=e.i(14722),r=e.i(12568),s=e.i(38653),c=e.i(45622);function o(e){return(0,i.jsx)("div",{style:e.active?{border:"2px solid var(--primary-color)"}:void 0,onClick:e.onClick,children:(0,i.jsx)(r.default,{src:e.href,alt:"picture of product",fill:!0})})}function n(e){let[t,a]=(0,s.useState)(["https://placehold.co/600x600","https://placehold.co/400x600","https://placehold.co/600x400","https://placehold.co/300x400"]),[n,d]=(0,s.useState)(0);return(0,s.useEffect)(()=>{e.attachment_id&&c.Attachment.fetchById(e.attachment_id).then(e=>{let t=[];e.getImages().forEach(e=>{t.push(e.getURL())}),a(t)})},[e.attachment_id]),(0,i.jsxs)("div",{className:l.default.container,children:[(0,i.jsx)("div",{className:l.default.main,children:(0,i.jsx)("div",{children:(0,i.jsx)("div",{children:(0,i.jsx)(r.default,{src:t[n],alt:"picture of product",fill:!0})})})}),(0,i.jsx)("div",{className:l.default.list,children:t.map((e,t)=>(0,i.jsx)(o,{href:e,active:t==n,onClick:()=>{d(t)}},t))})]})}},5736:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({default:()=>l});var i=e.i(23663);function l(e){let{data:t,error:a,isLoading:l}=(0,i.default)("/products/index.php"+(e?`?id=${e}`:""));return{isLoading:l,error:a,data:t,product:t?.d}}},80654:e=>{"use strict";var{g:t,__dirname:a}=e;e.s({ProductView:()=>v});var i=e.i(31636),l=e.i(26408),r=e.i(80695),s=e.i(41793),c=e.i(81508),o=e.i(13569),n=e.i(55366),d=e.i(5736),u=e.i(38653),m=e.i(49641),f=e.i(82069);function h(...e){return e.join(" ")}function g({name:e,value:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{children:e}),(0,i.jsx)("span",{children:t})]})}function v(e){let t=(0,n.useRouter)(),a=Number((0,n.useSearchParams)().get("id")),{product:v,error:_,isLoading:p}=(0,d.default)(a),[j,x]=(0,u.useState)(null),[b,N]=(0,u.useState)(!1);(0,u.useEffect)(()=>{(isNaN(a)||a<=0)&&t.push("/"),v&&f.Product.getFilled(v).getCategory()?.then(e=>{x(e.name)})},[p]);let y=async()=>{if(!v)return;N(!0);let e=new FormData;e.append("product_id",v.product_id.toString()),e.append("quantity","1");let t=await fetch("/api/cart/index.php",{credentials:"include",method:"POST",body:e});if(!t.ok){console.error("ProductView: ",`failed to fetch, C: ${t.status}`);try{let e=await t.json();console.error("ProductView: ",e)}catch(e){console.error("ProductView: ",e)}return}N(!1)};return(0,i.jsxs)("div",{className:l.default.container,children:[(0,i.jsx)("div",{children:(0,i.jsx)(o.ImageSelector,{attachment_id:v?.attachment_id||void 0})}),(0,i.jsxs)("div",{className:l.default.details,children:[(0,i.jsxs)("div",{className:h(l.default.top),children:[(0,i.jsx)("div",{className:h(r.default.className,l.default.name),children:p||_?(0,i.jsx)(m.Loading,{children:"-"}):v.name}),(0,i.jsxs)("div",{className:h(s.default.className,l.default.det),children:[(0,i.jsx)(g,{name:"Category:",value:p||_||!j?(0,i.jsx)(m.Loading,{children:"-"}):j}),(0,i.jsx)(g,{name:"Stock:",value:p?(0,i.jsx)(m.Loading,{children:"-"}):v.stock})]})]}),(0,i.jsxs)("div",{className:l.default.bottom,children:[(0,i.jsx)("div",{className:s.default.className,children:p||_?(0,i.jsx)(m.Loading,{children:"-"}):v.price+" z≈Ç"}),(0,i.jsx)("div",{children:(0,i.jsx)(c.default,{onClick:y,backgroundColor:"var(--primary-color)",children:p||_||b||v.stock<=0?(0,i.jsx)(m.Loading,{children:"-"}):"Add to cart"})})]})]})]})}},69695:e=>{"use strict";var{g:t,__dirname:a}=e;{e.s({ProductViewDescription:()=>t});var i=e.i(31636);e.i(15141);var l=e.i(27844),r=e.i(55366),s=e.i(38653),c=e.i(5736),o=e.i(49641);let t=()=>{let e=(0,r.useRouter)(),t=Number((0,r.useSearchParams)().get("id")),{product:a,error:n,isLoading:d}=(0,c.default)(t);return(0,s.useEffect)(()=>{(isNaN(t)||t<=0)&&e.push("/")},[t]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l.poppins.className,children:d||n?(0,i.jsx)(o.Loading,{children:"-"}):a.name}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:l.poppins.className,children:d||n?(0,i.jsx)(o.Loading,{children:"-"}):a.description})]})}}}}]);

//# sourceMappingURL=45fae4d01bee86cc.js.map