(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{70601:e=>{var{g:t,__dirname:r}=e;e.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},15614:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var i=e.i(70601);let t={className:i.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let r=t}},37234:e=>{var{g:t,__dirname:r}=e;e.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},27660:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var i=e.i(37234);let t={className:i.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let r=t}},63836:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660)},15141:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660),e.i(63836)},27844:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({poppins:()=>i.default});var i=e.i(15614)},92197:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({mutate:()=>i.j});var i=e.i(37784)},21554:e=>{var{g:t,__dirname:r}=e;e.v({container:"Loading-module__5VDP-q__container",pulse:"Loading-module__5VDP-q__pulse"})},49641:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({Loading:()=>n});var i=e.i(31636),a=e.i(21554);function n(e){return(0,i.jsx)("span",{className:a.default.container,children:e.children})}},16194:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({default:()=>a});var i=e.i(23663);function a(e={}){let t=new URLSearchParams;e.search&&t.append("search",e.search),e.limit&&t.append("limit",e.limit.toString()),e.page&&t.append("page",e.page.toString()),e.category&&t.append("category",e.category.toString()),e.price_in&&t.append("price_in",e.price_in.toString()),e.price_out&&t.append("price_out",e.price_out.toString()),e.sort&&t.append("sort",e.sort);let{data:r,isLoading:n,error:s,mutate:l}=(0,i.default)(`/products/index.php?${t.toString()}`);return{isLoading:n,error:s,data:r,products:r?.d,mutate:l}}},16488:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({useDebounce:()=>a});var i=e.i(38653);function a(e,t=2e3){let[r,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},69520:e=>{var{g:t,__dirname:r}=e;e.v({container:"ManagerButton-module__cUw3dG__container"})},14100:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ManagerButton:()=>s});var i=e.i(31636),a=e.i(69520),n=e.i(86240);function s(e){let t={width:e.width,padding:e.padding};return e.href?(0,i.jsx)(n.default,{href:e.href,children:(0,i.jsx)("button",{className:a.default.container,style:t,disabled:e.disabled,children:e.children})}):(0,i.jsx)("button",{onClick:e.onClick,className:a.default.container,style:t,disabled:e.disabled,children:e.children})}},30306:e=>{var{g:t,__dirname:r}=e;e.v({container:"ListRow-module__KhJOla__container",header:"ListRow-module__KhJOla__header"})},68326:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ListContextProvider:()=>n,ListPropertiesContext:()=>t,useListContext:()=>s});var i=e.i(31636),a=e.i(38653);let t=(0,a.createContext)({});function n(e){return(0,i.jsx)(t.Provider,{value:e,children:e.children})}function s(){return(0,a.useContext)(t)}}},76056:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ListRowHeader:()=>l,default:()=>s});var i=e.i(31636),a=e.i(30306),n=e.i(68326);function s(e){let t=(0,n.useListContext)(),r={padding:e.padding,gridTemplateColumns:t.gridTemplateColumns};return(0,i.jsx)("div",{className:[a.default.container,e.className].join(" "),style:r,children:e.children})}function l(e){let t=(0,n.useListContext)(),r={padding:e.padding,gridTemplateColumns:t.gridTemplateColumns};return(0,i.jsx)("div",{className:[a.default.container,a.default.header,e.className].join(" "),style:r,children:e.children})}},86974:e=>{var{g:t,__dirname:r}=e;e.v({container:"ListCell-module__ZsMQza__container"})},3855:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ListCell:()=>t});var i=e.i(31636),a=e.i(86974);let t=e=>{let t={padding:e.padding,justifyContent:e.centerHorizontal?"center":void 0,textAlign:e.centerHorizontal?"center":void 0};return(0,i.jsx)("div",{className:[a.default.container,e.className].join(" "),style:t,children:e.children})}}},80882:e=>{var{g:t,__dirname:r}=e;e.v({container:"List-module__gn99Za__container"})},18671:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({List:()=>t});var i=e.i(31636),a=e.i(80882);e.i(15141);var n=e.i(27844),s=e.i(68326);let t=e=>{let t={border:e.border};return(0,i.jsx)("div",{className:[n.poppins.className,a.default.container,e.className].join(" "),style:t,children:(0,i.jsx)("div",{children:(0,i.jsx)(s.ListContextProvider,{gridTemplateColumns:e.gridTemplateColumns,children:e.children})})})}}},67807:e=>{var{g:t,__dirname:r}=e;e.v({action:"Manager-module__nhQrBa__action",container:"Manager-module__nhQrBa__container"})},70611:e=>{var{g:t,__dirname:r}=e;e.v({input:"MiniSearchBar-module__SrX-CW__input"})},11475:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({MiniSearchBar:()=>t});var i=e.i(31636),a=e.i(70611);e.i(15141);var n=e.i(27844);let t=e=>(0,i.jsx)("input",{className:[n.poppins.className,a.default.input].join(" "),value:e.value,onChange:e.setValue,type:"text",placeholder:"Search..."})}},47286:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({Manager:()=>t});var i=e.i(31636),a=e.i(67807),n=e.i(11475),s=e.i(18671);let t=e=>(0,i.jsxs)("div",{className:a.default.container,children:[e.dontShowAction?void 0:(0,i.jsxs)("div",{className:a.default.action,style:{gridTemplateColumns:e.actionGridTemplateColumns},children:[(0,i.jsx)("div",{children:(0,i.jsx)(n.MiniSearchBar,{value:e.searchValue,setValue:e.setSearchValue})}),(0,i.jsx)("div",{children:e.additionalSettings}),(0,i.jsx)("div",{children:e.additionalButtons})]}),(0,i.jsx)("div",{className:a.default.table,children:(0,i.jsx)(s.List,{gridTemplateColumns:e.gridTemplateColumns,children:e.children})})]})}},79145:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({CategoriesManager:()=>t});var i=e.i(31636),a=e.i(14100),n=e.i(76056),s=e.i(3855),l=e.i(47286),d=e.i(38653),o=e.i(16488);let t=e=>{let[t,r]=(0,d.useState)(""),[c,u]=(0,d.useState)([]),[h,p]=(0,d.useState)(!0),[g,x]=(0,d.useState)(null),m=(0,o.useDebounce)(t,500),v=async()=>{p(!0);try{let e=await fetch(`/api/categories/index.php${m?`?search=${m}`:""}`,{credentials:"include",method:"GET"});if(!e.ok)throw Error("Failed to fetch categories");let t=await e.json();u(t.d||[]),x(null)}catch(e){console.error("Error fetching categories:",e),x(e instanceof Error?e:Error("Unknown error"))}finally{p(!1)}};(0,d.useEffect)(()=>{v()},[m]);let f=async e=>{(await fetch(`/api/categories/index.php?id=${e}`,{credentials:"include",method:"DELETE"})).ok?v():console.error("error deleting category")};return(0,i.jsxs)(l.Manager,{gridTemplateColumns:"100px 1fr 150px",additionalButtons:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.ManagerButton,{href:"/categories/create",children:"Add Category"})}),searchValue:t,setSearchValue:e=>r(e.target.value),dontShowAction:e.dontShowAction,children:[(0,i.jsxs)(n.ListRowHeader,{children:[(0,i.jsx)(s.ListCell,{children:"ID"}),(0,i.jsx)(s.ListCell,{children:"Name"}),!e.dontShowItemsAction&&(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"Action"})]}),h||g?(0,i.jsx)(n.default,{children:(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:h?"Loading...":`Error: ${g?.message}`})}):0===c.length?(0,i.jsx)(n.default,{children:(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"No categories found"})}):c.map(t=>(0,i.jsxs)(n.default,{children:[(0,i.jsxs)(s.ListCell,{children:["#",t.id]}),(0,i.jsx)(s.ListCell,{children:t.name}),!e.dontShowItemsAction&&(0,i.jsxs)(s.ListCell,{centerHorizontal:!0,children:[(0,i.jsx)(a.ManagerButton,{href:`/categories/create?id=${t.id}`,children:"Edit"}),"-",(0,i.jsx)(a.ManagerButton,{onClick:()=>{f(t.id.toString())},children:"Delete"})]})]},t.id))]})}}},66681:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({OrderStatus:()=>i});var i=function(e){return e.pending="pending",e.paid="paid",e.shipping="shipping",e.delivered="delivered",e.canceled="canceled",e}({})},37288:e=>{var{g:t,__dirname:r}=e;e.v({container:"Badge-module__6EVb2G__container",default:"Badge-module__6EVb2G__default",error:"Badge-module__6EVb2G__error",info:"Badge-module__6EVb2G__info",pending:"Badge-module__6EVb2G__pending",success:"Badge-module__6EVb2G__success"})},37028:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({default:()=>n});var i=e.i(31636),a=e.i(37288);function n(e){let t={backgroundColor:e.backgroundColor,borderColor:e.borderColor,border:e.border,color:e.color,padding:e.padding};return(0,i.jsx)("div",{className:[a.default.container,e.variant?a.default[e.variant]:void 0,e.className].join(" "),style:t,children:e.children})}},26218:e=>{var{g:t,__dirname:r}=e;e.v({container:"ExpandableRow-module__76n8nG__container",content:"ExpandableRow-module__76n8nG__content",expanded:"ExpandableRow-module__76n8nG__expanded"})},36744:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ExpandableRow:()=>l});var i=e.i(31636),a=e.i(26218),n=e.i(38653),s=e.i(76056);function l(e){let[t,r]=n.default.useState(!1),l={padding:e.padding},d={paddingLeft:e.indentation?e.indentation:void 0};return(0,i.jsxs)("div",{className:[e.className,a.default.container,t?a.default.expanded:void 0].join(" "),style:l,onClick:()=>{r(!t)},children:[(0,i.jsx)(s.default,{children:e.children}),(0,i.jsx)("div",{className:a.default.content,style:d,children:(0,i.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{backgroundColor:e.backgroundColor},children:e.content})})]})}},21473:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({OrdersManager:()=>t});var i=e.i(31636),a=e.i(14100),n=e.i(76056),s=e.i(3855),l=e.i(47286),d=e.i(38653),o=e.i(16488),c=e.i(66681),u=e.i(37028),h=e.i(36744),p=e.i(18671),g=e.i(92197);let t=e=>{let[t,r]=(0,d.useState)(""),[x,m]=(0,d.useState)([]),[v,f]=(0,d.useState)(!0),[_,j]=(0,d.useState)(null),C=(0,o.useDebounce)(t,500);(0,d.useEffect)(()=>{(async()=>{f(!0);try{let e=await fetch(`/api/order/all.php${C?`?search=${C}`:""}`,{credentials:"include",method:"GET"});if(!e.ok)throw Error("Failed to fetch orders");let t=await e.json();m(t.d||[]),j(null)}catch(e){console.error("Error fetching orders:",e),j(e instanceof Error?e:Error("Unknown error"))}finally{f(!1)}})()},[C]);let L=async(e,t)=>{try{if(!(await fetch("/api/order/index.php",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:e,status:t})})).ok)throw Error("Failed to update order status");return m(x.map(r=>r.order_id===e?{...r,status:t}:r)),(0,g.mutate)("/api/order/index.php"),!0}catch(e){return console.error("Error updating order status:",e),!1}},S=async e=>{try{if(!(await fetch(`/api/order/cancel.php?id=${e}`,{method:"GET",credentials:"include"})).ok)throw Error("Failed to cancel order");return m(x.map(t=>t.order_id===e?{...t,status:c.OrderStatus.canceled}:t)),(0,g.mutate)("/api/order/index.php"),!0}catch(e){return console.error("Error canceling order:",e),!1}},b=e=>{let t=new Date(1e3*e);return`${t.getHours()}:${t.getMinutes()} ${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`},w=e=>{switch(e){case c.OrderStatus.pending:return"pending";case c.OrderStatus.paid:return"success";case c.OrderStatus.shipping:return"info";case c.OrderStatus.delivered:return"success";case c.OrderStatus.canceled:return"error";default:return"pending"}};return(0,i.jsxs)(l.Manager,{gridTemplateColumns:"100px 1fr 150px 150px 150px 200px",searchValue:t,setSearchValue:e=>r(e.target.value),dontShowAction:e.dontShowAction,children:[(0,i.jsxs)(n.ListRowHeader,{children:[(0,i.jsx)(s.ListCell,{children:"#"}),(0,i.jsx)(s.ListCell,{children:"Date"}),(0,i.jsx)(s.ListCell,{children:"Total Price"}),(0,i.jsx)(s.ListCell,{children:"Author"}),(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"Status"}),!e.dontShowItemsAction&&(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"Action"})]}),v||_?(0,i.jsx)(n.default,{children:(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:v?"Loading...":`Error: ${_?.message}`})}):0===x.length?(0,i.jsx)(n.default,{children:(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"No orders found"})}):x.map(t=>(0,i.jsxs)(h.ExpandableRow,{padding:"5px 0",content:(0,i.jsxs)(p.List,{gridTemplateColumns:"50px 3fr 100px 100px",children:[(0,i.jsxs)(n.ListRowHeader,{children:[(0,i.jsx)(s.ListCell,{children:"#"}),(0,i.jsx)(s.ListCell,{children:"Product"}),(0,i.jsx)(s.ListCell,{children:"Price"}),(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"Quantity"})]}),t.items.map(e=>(0,i.jsxs)(n.default,{children:[(0,i.jsxs)(s.ListCell,{children:["#",e.product_id]}),(0,i.jsx)(s.ListCell,{children:e.name}),(0,i.jsxs)(s.ListCell,{children:[e.price," zł"]}),(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:e.quantity})]},e.order_item_id))]}),children:[(0,i.jsxs)(s.ListCell,{children:["#",t.order_id]}),(0,i.jsx)(s.ListCell,{children:b(t.created_at)}),(0,i.jsxs)(s.ListCell,{children:[t.total_price," zł"]}),(0,i.jsxs)(s.ListCell,{children:[t.first_name," ",t.last_name]}),(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:(0,i.jsx)(u.default,{variant:w(t.status),children:t.status})}),!e.dontShowItemsAction&&(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("select",{value:t.status,onChange:e=>L(t.order_id,e.target.value),style:{marginRight:"10px"},children:Object.values(c.OrderStatus).map(e=>(0,i.jsx)("option",{value:e,children:e},e))}),t.status!==c.OrderStatus.canceled&&(0,i.jsx)(a.ManagerButton,{onClick:()=>S(t.order_id),children:"Cancel"})]})})]},t.order_id))]})}}},30060:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({default:()=>a});var i=e.i(23663);function a(){let{data:e,error:t,isLoading:r}=(0,i.default)("/stats/index.php");return{isLoading:r,error:t,stats:e}}},24586:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({Stats:()=>t});var i=e.i(31636),a=e.i(30060),n=e.i(49641);let t=e=>{let{stats:t,error:r,isLoading:s}=(0,a.default)();return s||r?(0,i.jsx)(n.Loading,{children:"-"}):(0,i.jsx)(i.Fragment,{children:t.d[e.children]})}}},55059:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ProductsManager:()=>t});var i=e.i(31636),a=e.i(14100),n=e.i(76056),s=e.i(3855),l=e.i(47286),d=e.i(38653),o=e.i(16194),c=e.i(16488);let t=e=>{let[t,r]=d.default.useState(""),u=(0,c.useDebounce)(t,500),{isLoading:h,error:p,products:g,mutate:x}=(0,o.default)({search:u}),m=async e=>{(await fetch(`/api/products/index.php?id=${e}`,{credentials:"include",method:"DELETE"})).ok?await x():console.error("error deleting product")};return(0,i.jsxs)(l.Manager,{gridTemplateColumns:"100px 1fr 100px 200px",additionalButtons:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.ManagerButton,{href:"/products/create",children:"Add item"})}),searchValue:t,setSearchValue:e=>r(e.target.value),dontShowAction:e.dontShowAction,children:[(0,i.jsxs)(n.ListRowHeader,{children:[(0,i.jsx)(s.ListCell,{children:"id"}),(0,i.jsx)(s.ListCell,{children:"name"}),(0,i.jsx)(s.ListCell,{children:"price"}),!e.dontShowItemsAction&&(0,i.jsx)(s.ListCell,{centerHorizontal:!0,children:"action"})]}),h||p?void 0:g.map(t=>(0,i.jsxs)(n.default,{children:[(0,i.jsxs)(s.ListCell,{children:["#",t.product_id]}),(0,i.jsx)(s.ListCell,{children:t.name}),(0,i.jsxs)(s.ListCell,{children:[t.price,"zł"]}),!e.dontShowItemsAction&&(0,i.jsxs)(s.ListCell,{centerHorizontal:!0,children:[(0,i.jsx)(a.ManagerButton,{href:`/products/create?id=${t.product_id}`,children:"Edit"}),"-",(0,i.jsx)(a.ManagerButton,{onClick:()=>{m(t.product_id.toString())},children:"Delete"})]})]},t.product_id))]})}}}}]);

//# sourceMappingURL=6e302f3e6f1d9146.js.map