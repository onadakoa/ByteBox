(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{21554:e=>{var{g:t,__dirname:r}=e;e.v({container:"Loading-module__5VDP-q__container",pulse:"Loading-module__5VDP-q__pulse"})},49641:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({Loading:()=>s});var i=e.i(31636),a=e.i(21554);function s(e){return(0,i.jsx)("span",{className:a.default.container,children:e.children})}},16654:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({RequireAuth:()=>t});var i=e.i(31636),a=e.i(55366),s=e.i(81952);let t=e=>{let t=(0,a.useRouter)(),{isLoggedIn:r,user:n,error:u,isLoading:l}=(0,s.default)();if(l)return(0,i.jsx)(i.Fragment,{});let o=()=>{console.error("RequireAuth: ","redirecting to '",e.href||"/","'"),"back"===e.href&&t.back(),t.push(e.href||"/")};return("loggedIn"!==e.type||r)&&("admin"!==e.type||r&&0!==n.permission)?"loggedOut"===e.type&&r&&o():o(),(0,i.jsx)(i.Fragment,{})}}},70601:e=>{var{g:t,__dirname:r}=e;e.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},15614:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var i=e.i(70601);let t={className:i.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let r=t}},37234:e=>{var{g:t,__dirname:r}=e;e.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},27660:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var i=e.i(37234);let t={className:i.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=i.default.variable&&(t.variable=i.default.variable);let r=t}},63836:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660)},15141:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660),e.i(63836)},27844:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({poppins:()=>i.default});var i=e.i(15614)},92197:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({mutate:()=>i.j});var i=e.i(37784)},55366:function(e){var{g:t,__dirname:r,m:i,e:a}=e;i.exports=e.r(41842)},22942:function(e){"use strict";var{g:t,__dirname:r,m:i,e:a}=e,s=e.r(38653),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=s.useState,l=s.useEffect,o=s.useLayoutEffect,d=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var f="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),i=u({inst:{value:r,getSnapshot:t}}),a=i[0].inst,s=i[1];return o(function(){a.value=r,a.getSnapshot=t,c(a)&&s({inst:a})},[e,r,t]),l(function(){return c(a)&&s({inst:a}),e(function(){c(a)&&s({inst:a})})},[e]),d(r),r};a.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:f},74527:function(e){var{g:t,__dirname:r,m:i,e:a}=e;e.i(22271);"use strict";i.exports=e.r(22942)},33612:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({OBJECT:()=>i.O});var i=e.i(37784)},37928:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({defaultConfig:()=>i.d});var i=e.i(37784)},46352:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({INFINITE_PREFIX:()=>t});let t="$inf$"}},59683:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({normalize:()=>n,preload:()=>l,subscribeCallback:()=>c,useSWRConfig:()=>u,withArgs:()=>d,withMiddleware:()=>f});var i=e.i(37784),a=e.i(46352),s=e.i(38653);let t=i.i&&window.__SWR_DEVTOOLS_USE__,r=t?window.__SWR_DEVTOOLS_USE__:[],n=e=>(0,i.a)(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],u=()=>(0,i.m)(i.d,(0,s.useContext)(i.S)),l=(e,t)=>{let[r,a]=(0,i.s)(e),[,,,s]=i.b.get(i.c);if(s[r])return s[r];let n=t(a);return s[r]=n,n},o=r.concat(e=>(t,r,s)=>{let n=r&&((...e)=>{let[s]=(0,i.s)(t),[,,,n]=i.b.get(i.c);if(s.startsWith(a.INFINITE_PREFIX))return r(...e);let u=n[s];return(0,i.e)(u)?r(...e):(delete n[s],u)});return e(t,n,s)}),d=e=>function(...t){let r=u(),[a,s,l]=n(t),d=(0,i.f)(r,l),c=e,{use:f}=d,v=(f||[]).concat(o);for(let e=v.length;e--;)c=v[e](c);return c(a,s||d.fetcher||null,d)},c=(e,t,r)=>{let i=t[e]||(t[e]=[]);return i.push(r),()=>{let e=i.indexOf(r);e>=0&&(i[e]=i[i.length-1],i.pop())}},f=(e,t)=>(...r)=>{let[i,a,s]=n(r),u=(s.use||[]).concat(t);return e(i,a,{...s,use:u})};t&&(window.__SWR_DEVTOOLS_REACT__=s.default)}},21905:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({SWRGlobalState:()=>i.b});var i=e.i(37784)},51860:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({serialize:()=>i.s});var i=e.i(37784)},4220:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({createCacheHelper:()=>i.z});var i=e.i(37784)},18873:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({isUndefined:()=>i.e});var i=e.i(37784)},64867:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({UNDEFINED:()=>i.U});var i=e.i(37784)},5450:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({isPromiseLike:()=>i.B});var i=e.i(37784)},87777:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({getTimestamp:()=>i.o});var i=e.i(37784)},57445:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({isFunction:()=>i.a});var i=e.i(37784)},73238:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({revalidateEvents:()=>i});var i=e.i(41751)},62981:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({internalMutate:()=>i.n});var i=e.i(37784)},58311:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({useIsomorphicLayoutEffect:()=>i.u});var i=e.i(37784)},29081:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({IS_SERVER:()=>i.r});var i=e.i(37784)},17333:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({rAF:()=>i.t});var i=e.i(37784)},25672:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({IS_REACT_LEGACY:()=>i.I});var i=e.i(37784)},49406:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({mergeObjects:()=>i.m});var i=e.i(37784)},23663:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({SWRConfig:()=>U,default:()=>L,unstable_serialize:()=>A});var i=e.i(38653),a=e.i(74527),s=e.i(33612),n=e.i(74729),u=e.i(37928),l=e.i(59683),o=e.i(21905),d=e.i(51860),c=e.i(4220),f=e.i(18873),v=e.i(64867),g=e.i(5450),m=e.i(87777),h=e.i(57445),p=e.i(73238),_=e.i(62981),E=e.i(58311),S=e.i(29081),y=e.i(17333),j=e.i(25672),R=e.i(49406);let t=void 0,r=Object,b=e=>e===t,x=e=>"function"==typeof e,N=new WeakMap,C=(e,t)=>r.prototype.toString.call(e)===`[object ${t}]`,F=0,T=e=>{let t,i,a=typeof e,s=C(e,"Date"),n=C(e,"RegExp"),u=C(e,"Object");if(r(e)!==e||s||n)t=s?e.toJSON():"symbol"==a?e.toString():"string"==a?JSON.stringify(e):""+e;else{if(t=N.get(e))return t;if(t=++F+"~",N.set(e,t),Array.isArray(e)){for(i=0,t="@";i<e.length;i++)t+=T(e[i])+",";N.set(e,t)}if(u){t="#";let a=r.keys(e).sort();for(;!b(i=a.pop());)b(e[i])||(t+=i+":"+T(e[i])+",");N.set(e,t)}}return t},I=e=>{if(x(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?T(e):"",t]},A=e=>I(e)[0],w=i.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),O={dedupe:!0},U=s.OBJECT.defineProperty(n.SWRConfig,"defaultValue",{value:u.defaultConfig}),L=(0,l.withArgs)((e,t,r)=>{let{cache:s,compare:n,suspense:u,fallbackData:b,revalidateOnMount:x,revalidateIfStale:N,refreshInterval:C,refreshWhenHidden:F,refreshWhenOffline:T,keepPreviousData:I}=r,[A,U,L,V]=o.SWRGlobalState.get(s),[D,k]=(0,d.serialize)(e),P=(0,i.useRef)(!1),z=(0,i.useRef)(!1),Z=(0,i.useRef)(D),W=(0,i.useRef)(t),B=(0,i.useRef)(r),M=()=>B.current,$=()=>M().isVisible()&&M().isOnline(),[J,G,q,Y]=(0,c.createCacheHelper)(s,D),H=(0,i.useRef)({}).current,K=(0,f.isUndefined)(b)?(0,f.isUndefined)(r.fallback)?v.UNDEFINED:r.fallback[D]:b,X=(e,t)=>{for(let r in H)if("data"===r){if(!n(e[r],t[r])&&(!(0,f.isUndefined)(e[r])||!n(eu,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},Q=(0,i.useMemo)(()=>{let e=!!D&&!!t&&((0,f.isUndefined)(x)?!M().isPaused()&&!u&&!1!==N:x),r=t=>{let r=(0,R.mergeObjects)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},i=J(),a=Y(),s=r(i),n=i===a?s:r(a),l=s;return[()=>{let e=r(J());return X(e,l)?(l.data=e.data,l.isLoading=e.isLoading,l.isValidating=e.isValidating,l.error=e.error,l):(l=e,e)},()=>n]},[s,D]),ee=(0,a.useSyncExternalStore)((0,i.useCallback)(e=>q(D,(t,r)=>{X(r,t)||e()}),[s,D]),Q[0],Q[1]),et=!P.current,er=A[D]&&A[D].length>0,ei=ee.data,ea=(0,f.isUndefined)(ei)?K&&(0,g.isPromiseLike)(K)?w(K):K:ei,es=ee.error,en=(0,i.useRef)(ea),eu=I?(0,f.isUndefined)(ei)?(0,f.isUndefined)(en.current)?ea:en.current:ei:ea,el=(!er||!!(0,f.isUndefined)(es))&&(et&&!(0,f.isUndefined)(x)?x:!M().isPaused()&&(u?!(0,f.isUndefined)(ea)&&N:(0,f.isUndefined)(ea)||N)),eo=!!(D&&t&&et&&el),ed=(0,f.isUndefined)(ee.isValidating)?eo:ee.isValidating,ec=(0,f.isUndefined)(ee.isLoading)?eo:ee.isLoading,ef=(0,i.useCallback)(async e=>{let t,i,a=W.current;if(!D||!a||z.current||M().isPaused())return!1;let s=!0,u=e||{},l=!L[D]||!u.dedupe,o=()=>j.IS_REACT_LEGACY?!z.current&&D===Z.current&&P.current:D===Z.current,d={isValidating:!1,isLoading:!1},c=()=>{G(d)},g=()=>{let e=L[D];e&&e[1]===i&&delete L[D]},_={isValidating:!0};(0,f.isUndefined)(J().data)&&(_.isLoading=!0);try{if(l&&(G(_),r.loadingTimeout&&(0,f.isUndefined)(J().data)&&setTimeout(()=>{s&&o()&&M().onLoadingSlow(D,r)},r.loadingTimeout),L[D]=[a(k),(0,m.getTimestamp)()]),[t,i]=L[D],t=await t,l&&setTimeout(g,r.dedupingInterval),!L[D]||L[D][1]!==i)return l&&o()&&M().onDiscarded(D),!1;d.error=v.UNDEFINED;let e=U[D];if(!(0,f.isUndefined)(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return c(),l&&o()&&M().onDiscarded(D),!1;let u=J().data;d.data=n(u,t)?u:t,l&&o()&&M().onSuccess(t,D,r)}catch(r){g();let e=M(),{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=r,l&&o()&&(e.onError(r,D,e),(!0===t||(0,h.isFunction)(t)&&t(r))&&(!M().revalidateOnFocus||!M().revalidateOnReconnect||$())&&e.onErrorRetry(r,D,e,e=>{let t=A[D];t&&t[0]&&t[0](p.revalidateEvents.ERROR_REVALIDATE_EVENT,e)},{retryCount:(u.retryCount||0)+1,dedupe:!0})))}return s=!1,c(),!0},[D,s]),ev=(0,i.useCallback)((...e)=>(0,_.internalMutate)(s,Z.current,...e),[]);if((0,E.useIsomorphicLayoutEffect)(()=>{W.current=t,B.current=r,(0,f.isUndefined)(ei)||(en.current=ei)}),(0,E.useIsomorphicLayoutEffect)(()=>{if(!D)return;let e=ef.bind(v.UNDEFINED,O),t=0;M().revalidateOnFocus&&(t=Date.now()+M().focusThrottleInterval);let r=(0,l.subscribeCallback)(D,A,(r,i={})=>{if(r==p.revalidateEvents.FOCUS_EVENT){let r=Date.now();M().revalidateOnFocus&&r>t&&$()&&(t=r+M().focusThrottleInterval,e())}else if(r==p.revalidateEvents.RECONNECT_EVENT)M().revalidateOnReconnect&&$()&&e();else if(r==p.revalidateEvents.MUTATE_EVENT)return ef();else if(r==p.revalidateEvents.ERROR_REVALIDATE_EVENT)return ef(i)});return z.current=!1,Z.current=D,P.current=!0,G({_k:k}),el&&((0,f.isUndefined)(ea)||S.IS_SERVER?e():(0,y.rAF)(e)),()=>{z.current=!0,r()}},[D]),(0,E.useIsomorphicLayoutEffect)(()=>{let e;function t(){let t=(0,h.isFunction)(C)?C(J().data):C;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!J().error&&(F||M().isVisible())&&(T||M().isOnline())?ef(O).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[C,F,T,D]),(0,i.useDebugValue)(eu),u&&(0,f.isUndefined)(ea)&&D){if(!j.IS_REACT_LEGACY&&S.IS_SERVER)throw Error("Fallback data is required when using Suspense in SSR.");W.current=t,B.current=r,z.current=!1;let e=V[D];if((0,f.isUndefined)(e)||w(ev(e)),(0,f.isUndefined)(es)){let e=ef(O);(0,f.isUndefined)(eu)||(e.status="fulfilled",e.value=!0),w(e)}else throw es}return{mutate:ev,get data(){return H.data=!0,eu},get error(){return H.error=!0,es},get isValidating(){return H.isValidating=!0,ed},get isLoading(){return H.isLoading=!0,ec}}})}},81952:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({default:()=>a});var i=e.i(23663);function a(){let{data:e,error:t,isLoading:r}=(0,i.default)("/user/index.php",{shouldRetryOnError:!1}),a=!0;return t&&(a=!1,console.log("useUser: ",JSON.stringify(t))),{isLoading:r,isLoggedIn:a,data:e,user:e?.d,error:t}}},9669:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({roboto:()=>i.default});var i=e.i(27660)},19386:e=>{var{g:t,__dirname:r}=e;e.v({container:"Input-module__tSvyFa__container"})},74664:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({Input:()=>n});var i=e.i(31636),a=e.i(19386),s=e.i(38653);function n(e){let[t,r]=(0,s.useState)(e.value||"");return(0,i.jsx)("div",{className:a.default.container,children:(0,i.jsx)("input",{name:e.name||void 0,onChange:t=>{void 0!=e.onChange?e.onChange(t):r(t.target.value)},value:e.value||t,type:e.type||"text",placeholder:e.placeholder||void 0})})}},22579:e=>{var{g:t,__dirname:r}=e;e.v({error:"AuthForm-module__RzedZa__error",formBody:"AuthForm-module__RzedZa__formBody",formContent:"AuthForm-module__RzedZa__formContent",formTitle:"AuthForm-module__RzedZa__formTitle",modeChanger:"AuthForm-module__RzedZa__modeChanger",submit:"AuthForm-module__RzedZa__submit"})},73510:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({AuthForm:()=>v});var i=e.i(31636),a=e.i(22579);e.i(15141);var s=e.i(27844),n=e.i(9669),u=e.i(74664),l=e.i(38653),o=e.i(39563),d=e.i(49641),c=e.i(55366),f=e.i(92197);function v(){let[e,t]=(0,l.useState)(!0),[r,u]=(0,l.useState)(!1),[v,h]=(0,l.useState)(null),p=(0,c.useRouter)(),_=async t=>{t.preventDefault(),u(!0);let r=new FormData(t.target),i=o.API_HOSTNAME+(e?"login.php":"register.php"),a=await fetch(i,{method:"POST",credentials:"include",body:r});if(!a.ok){let e="error";try{e=(await a.json()).d}catch(e){console.error(e)}console.error(`AuthForm FAILED: ${e}`),h(e+` (${a.status})`),u(!1);return}let s=await a.json();0==s.c?(console.log(`AuthForm SUCCESS: ${s.d.login}`),await (0,f.mutate)("/user/index.php"),p.push("/")):(console.error(`AuthForm FAILED: ${s}`),h(s.d+` (${a.status})`)),u(!1)};return(0,i.jsx)("div",{className:a.default.container,children:(0,i.jsx)("div",{className:a.default.formBody,children:r?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.Loading,{})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:s.poppins.style,className:a.default.formTitle,children:e?"Zaloguj":"Zarejestruj"}),(0,i.jsxs)("form",{onSubmit:_,style:n.roboto.style,className:a.default.formContent,children:[e?(0,i.jsx)(g,{}):(0,i.jsx)(m,{}),(0,i.jsx)("div",{className:a.default.error,children:v||void 0}),(0,i.jsx)("div",{className:a.default.submit,children:(0,i.jsx)("input",{type:"submit",value:e?"Zaloguj":"Zarejestruj"})})]}),(0,i.jsxs)("div",{style:s.poppins.style,className:a.default.modeChanger,children:[e?"Nie masz konta?":"Masz już konto?",(0,i.jsxs)("span",{onClick:()=>{t(!e),h(null)},children:[e?"Zarejestruj":"Zaloguj"," się!"]})]})]})})})}function g(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:"Login"}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Input,{name:"login",type:"text",placeholder:"John@example.com"})}),(0,i.jsx)("div",{children:"Password"}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Input,{name:"password",type:"password",placeholder:"Your pasword"})})]})}function m(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{}),(0,i.jsx)("div",{children:"First Name"}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Input,{name:"first_name",type:"text",placeholder:"John"})}),(0,i.jsx)("div",{children:"Last Name"}),(0,i.jsx)("div",{children:(0,i.jsx)(u.Input,{name:"last_name",type:"text",placeholder:"Smith"})})]})}}}]);

//# sourceMappingURL=7b203f6175b1ec8f.js.map