{"version":3,"sources":["turbopack:///[next]/internal/font/google/poppins_9ac3ec3.module.css [app-client] (css module)","turbopack:///[next]/internal/font/google/poppins_9ac3ec3.js","turbopack:///[next]/internal/font/google/roboto_d5b2c989.module.css [app-client] (css module)","turbopack:///[next]/internal/font/google/roboto_d5b2c989.js","turbopack:///[project]/utils/Product.ts","turbopack:///[project]/utils/Category.ts","turbopack:///[project]/node_modules/next/src/shared/lib/image-external.tsx","turbopack:///[project]/node_modules/next/image.js","turbopack:///[project]/utils/Attachment.ts","turbopack:///[project]/components/Field/Card.module.css [app-client] (css module)","turbopack:///[project]/components/Field/Card.tsx","turbopack:///[project]/components/Product/ProductEditor.module.css [app-client] (css module)","turbopack:///[project]/components/Product/ProductEditor.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"poppins_9ac3ec3-module__ogIsha__className\",\n});\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22font.ts%22,%22import%22:%22Poppins%22,%22arguments%22:[{%22weight%22:[%22200%22,%22300%22,%22400%22,%22500%22,%22600%22,%22700%22,%22800%22,%22900%22],%22subsets%22:[%22latin%22],%22fallback%22:[%22sans-serif%22]}],%22variableName%22:%22poppins%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Poppins', sans-serif\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","__turbopack_context__.v({\n  \"className\": \"roboto_d5b2c989-module__7PeVaG__className\",\n});\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22font.ts%22,%22import%22:%22Roboto%22,%22arguments%22:[{%22weight%22:[%22100%22,%22300%22,%22400%22,%22500%22,%22700%22,%22900%22],%22subsets%22:[%22latin%22],%22fallback%22:[%22sans-serif%22]}],%22variableName%22:%22roboto%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Roboto', sans-serif\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","import {Category} from \"@/utils/Category\";\nimport {Attachment} from \"@/utils/Attachment\";\n\nexport interface IProduct {\n    product_id: number;\n    attachment_id: number | null;\n    category_id: number | null;\n    author_id: number;\n    name: string;\n    description: string;\n    price: number;\n    stock: number\n}\n\nexport class Product implements IProduct {\n    product_id: number = 0;\n    attachment_id: number | null = null;\n    category_id: number | null = null;\n    author_id: number = 0;\n    name: string = \"\";\n    description: string = \"\";\n    price: number = 0;\n    stock: number = 0;\n\n    fill(product: IProduct) {\n        Object.assign(this, product);\n    }\n\n    static getFilled(product: IProduct) {\n        const prod = new Product();\n        prod.fill(product);\n        return prod;\n    }\n\n    getCategory() {\n        if (!this.category_id) return null;\n        return Category.getById(this.category_id);\n    }\n\n    fetchAttachment() {\n        if (!this.attachment_id) return null;\n        return Attachment.fetchById(this.attachment_id);\n    }\n}","import {JsonError} from \"@/utils/api\";\n\nexport interface ICategory {\n    id: number;\n    name: string;\n    alias: ICategoryAlias[]\n}\n\nexport interface ICategoryAlias {\n    alias_id: number;\n    name: string;\n}\n\nexport class Category implements ICategory {\n    alias: ICategoryAlias[] = [];\n    id: number = 0;\n    name: string = \"\";\n\n    fill(category: ICategory) {\n        Object.assign(this, category);\n    }\n\n    static getFilled(category: ICategory) {\n        const cat = new Category();\n        cat.fill(category);\n        return cat;\n    }\n\n    static async getById(id: number) {\n        const res = await fetch(\"/api/categories/index.php?id=\" + id);\n\n        let json = null;\n        try {\n            json = await res.json();\n        } catch (e) {\n            console.error(`Category ERROR: ${e}`)\n        }\n        if (!res.ok) {\n            console.error(`Category ERROR: ${json}`)\n            throw new JsonError(res.status, json);\n        }\n\n        return Category.getFilled(json?.d);\n    }\n}","import type { ImageConfigComplete, ImageLoaderProps } from './image-config'\nimport type { ImageProps, ImageLoader, StaticImageData } from './get-img-props'\n\nimport { getImgProps } from './get-img-props'\nimport { Image } from '../../client/image-component'\n\n// @ts-ignore - This is replaced by webpack alias\nimport defaultLoader from 'next/dist/shared/lib/image-loader'\n\n/**\n * For more advanced use cases, you can call `getImageProps()`\n * to get the props that would be passed to the underlying `<img>` element,\n * and instead pass to them to another component, style, canvas, etc.\n *\n * Read more: [Next.js docs: `getImageProps`](https://nextjs.org/docs/app/api-reference/components/image#getimageprops)\n */\nexport function getImageProps(imgProps: ImageProps) {\n  const { props } = getImgProps(imgProps, {\n    defaultLoader,\n    // This is replaced by webpack define plugin\n    imgConf: process.env.__NEXT_IMAGE_OPTS as any as ImageConfigComplete,\n  })\n  // Normally we don't care about undefined props because we pass to JSX,\n  // but this exported function could be used by the end user for anything\n  // so we delete undefined props to clean it up a little.\n  for (const [key, value] of Object.entries(props)) {\n    if (value === undefined) {\n      delete props[key as keyof typeof props]\n    }\n  }\n  return { props }\n}\n\nexport default Image\n\nexport type { ImageProps, ImageLoaderProps, ImageLoader, StaticImageData }\n","module.exports = require('./dist/shared/lib/image-external')\n","import {JsonError} from \"@/utils/api\";\n\nexport interface IAttachment {\n    attachment_id: number;\n    author_id: number;\n    creation_date: number;\n    images: IImage[];\n}\n\nexport interface IImage {\n    id: number;\n    size: number\n    type: string;\n}\n\nexport class Attachment implements IAttachment {\n    attachment_id: number = 0;\n    author_id: number = 0;\n    creation_date: number = 0;\n    images: IImage[] = [];\n\n    fill(attachment: IAttachment) {\n        Object.assign(this, attachment);\n    }\n\n    getImages(): ApiImage[] {\n        return this.images.map(img => ApiImage.getFilled(img));\n    }\n\n    static getFilled(attachment: IAttachment) {\n        const att = new Attachment();\n        att.fill(attachment);\n        return att;\n    }\n\n    static async fetchById(id: number) {\n        try {\n            const res = await fetch(\"/api/attachments/index.php?id=\" + id);\n            const json = await res.json();\n\n            if (!res.ok) {\n                throw new JsonError(res.status, json);\n            }\n\n            return Attachment.getFilled(json?.d);\n        } catch (e) {\n            console.error(`Attachment ERROR: ${e}`)\n            throw e;\n        }\n    }\n}\n\nexport class ApiImage implements IImage {\n    id: number = 0;\n    size: number = 0;\n    type: string = \"\";\n\n    fill(image: IImage) {\n        Object.assign(this, image);\n    }\n\n    static getFilled(image: IImage) {\n        let img = new ApiImage();\n        img.fill(image);\n        return img;\n    }\n\n    getURL() {\n        return \"/api/attachments/image.php?id=\" + this.id;\n    }\n}","__turbopack_context__.v({\n  \"container\": \"Card-module__pmewmq__container\",\n});\n","import css from \"./Card.module.css\";\nimport React, {CSSProperties} from \"react\";\n\nexport function Card(props: {\n    children?: React.ReactNode,\n    padding?: string,\n}) {\n    const style: CSSProperties = {\n        padding: props.padding,\n    }\n    return (\n        <div className={css.container} style={style}>\n            {props.children}\n        </div>\n    );\n}","__turbopack_context__.v({\n  \"container\": \"ProductEditor-module__nEkUua__container\",\n  \"error\": \"ProductEditor-module__nEkUua__error\",\n  \"fileInput\": \"ProductEditor-module__nEkUua__fileInput\",\n  \"fileInputContainer\": \"ProductEditor-module__nEkUua__fileInputContainer\",\n  \"form\": \"ProductEditor-module__nEkUua__form\",\n  \"formGroup\": \"ProductEditor-module__nEkUua__formGroup\",\n  \"helperText\": \"ProductEditor-module__nEkUua__helperText\",\n  \"imagePreview\": \"ProductEditor-module__nEkUua__imagePreview\",\n  \"imagePreviewGrid\": \"ProductEditor-module__nEkUua__imagePreviewGrid\",\n  \"imageSelector\": \"ProductEditor-module__nEkUua__imageSelector\",\n  \"input\": \"ProductEditor-module__nEkUua__input\",\n  \"label\": \"ProductEditor-module__nEkUua__label\",\n  \"message\": \"ProductEditor-module__nEkUua__message\",\n  \"placeholderImage\": \"ProductEditor-module__nEkUua__placeholderImage\",\n  \"select\": \"ProductEditor-module__nEkUua__select\",\n  \"submitButton\": \"ProductEditor-module__nEkUua__submitButton\",\n  \"textarea\": \"ProductEditor-module__nEkUua__textarea\",\n  \"title\": \"ProductEditor-module__nEkUua__title\",\n});\n","\"use client\";\nimport React, {useEffect, useState} from \"react\";\nimport {Card} from \"@/components/Field/Card\";\nimport {poppins} from \"@/utils/font\";\nimport css from \"./ProductEditor.module.css\";\nimport {ICategory} from \"@/utils/Category\";\nimport Image from \"next/image\";\nimport {OutPacket} from \"@/utils/OutPacket\";\nimport {useSearchParams} from \"next/navigation\";\nimport {IProduct, Product} from \"@/utils/Product\";\nimport useUser from \"@/hooks/useUser\";\nimport {mutate} from \"swr\";\n\nexport type file = { file_id: number, id: number };\n\nexport default function ProductEditor() {\n    const SearchParams = useSearchParams();\n    const id = SearchParams.get(\"id\");\n    const [mode, setMode] = useState<\"create\" | \"edit\">(((id) ? \"edit\" : \"create\"));\n\n    const {user} = useUser();\n\n    const [name, setName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [price, setPrice] = useState(\"\");\n    // const [stock, setStock] = useState(\"\");\n    const [categoryId, setCategoryId] = useState<number | null>(null);\n    const [categories, setCategories] = useState<ICategory[]>([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [message, setMessage] = useState(\"\");\n    const [selectedImages, setSelectedImages] = useState<File[]>([]);\n    const [previewUrls, setPreviewUrls] = useState<string[]>([]);\n\n    useEffect(() => {\n        if (mode != \"edit\") return;\n        (async () => {\n            setIsLoading(true);\n            const res = await fetch(\"/api/products/index.php?id=\" + id, {\n                credentials: \"include\",\n                method: \"GET\",\n            });\n\n            if (!res.ok) {\n                setMessage(\"Failed to fetch product\");\n                console.error(\"ProductEditor: \", `failed to fetch, ${res}`)\n                return;\n            }\n            const json = await res.json() as OutPacket<IProduct>;\n            if (json.c) {\n                setMessage(\"Failed to fetch product\");\n                console.error(\"ProductEditor: \", json)\n                return;\n            }\n\n            const prod = Product.getFilled(json.d);\n            const attach = await prod.fetchAttachment();\n\n            setName(prod.name);\n            setDescription(prod.description);\n            setPrice(prod.price.toString());\n            setCategoryId(prod.category_id);\n            // setStock(prod.stock.toString());\n\n            if (attach) {\n                setPreviewUrls(attach.getImages().map(img => img.getURL()));\n            }\n\n            setIsLoading(false);\n        })();\n    }, [mode]);\n\n    // Fetch categories\n    useEffect(() => {\n        const fetchCategories = async () => {\n            try {\n                const response = await fetch(\"/api/categories/index.php\");\n                if (!response.ok) {\n                    throw new Error(\"Failed to fetch categories\");\n                }\n                const data = await response.json();\n                setCategories(data.d || []);\n            } catch (error) {\n                console.error(\"Error fetching categories:\", error);\n            }\n        };\n\n        fetchCategories();\n    }, []);\n\n    const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (e.target.files && e.target.files.length > 0) {\n            // Limit to 4 files\n            const files = Array.from(e.target.files).slice(0, 4);\n\n            // Update selected files\n            setSelectedImages(files);\n\n            // Create preview URLs for each file\n            const newPreviewUrls: string[] = [];\n\n            files.forEach(file => {\n                const reader = new FileReader();\n                reader.onloadend = () => {\n                    newPreviewUrls.push(reader.result as string);\n                    if (newPreviewUrls.length === files.length) {\n                        setPreviewUrls(newPreviewUrls);\n                    }\n                };\n                reader.readAsDataURL(file);\n            });\n        }\n    };\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setIsLoading(true);\n        setMessage(\"\");\n\n        try {\n            let attachmentId = null;\n            if (selectedImages.length > 0) {\n                const imageFormData = new FormData();\n\n                let images: any[] = [];\n                selectedImages.forEach((image, index) => {\n                    imageFormData.append(`image${index}`, image);\n                    images.push({\n                        file_id: index + 1,\n                        size: image.size,\n                        type: image.type\n                    })\n                });\n                imageFormData.append(\"files\", JSON.stringify(images));\n                imageFormData.append(\"file_count\", images.length.toString());\n\n                const attachmentResponse = await fetch(\"/api/attachments/index.php\", {\n                    method: \"POST\",\n                    credentials: \"include\",\n                    body: imageFormData,\n                });\n\n                if (!attachmentResponse.ok) {\n                    throw new Error(\"Failed to upload images\");\n                }\n\n                const attachmentData = await attachmentResponse.json() as OutPacket<{ files: file[], attachment_id: number }>;\n                attachmentId = attachmentData.d.attachment_id;\n                attachmentData.d.files.forEach((f) => {\n                    (async () => {\n                        console.log(selectedImages);\n                        const body = await selectedImages[f.file_id - 1].arrayBuffer();\n                        const res = await fetch(\"/api/attachments/image.php?id=\" + f.id, {\n                            method: \"PUT\",\n                            credentials: \"include\",\n                            body\n                        })\n                    })();\n                })\n                console.log(attachmentData);\n            }\n\n            // Then create the product\n            const productData = {\n                name,\n                description,\n                price: price,\n                stock: \"1\",\n                category_id: categoryId,\n                attachment_id: attachmentId,\n                id: id\n            };\n            const body = new FormData();\n            body.append(\"name\", productData.name)\n            body.append(\"description\", productData.description);\n            body.append(\"price\", productData.price);\n            body.append(\"stock\", productData.stock);\n            body.append(\"category_id\", productData.category_id + \"\");\n            body.append(\"attachment_id\", productData.attachment_id + \"\");\n\n\n            const response = await fetch(\"/api/products/index.php\", {\n                method: ((mode == \"create\") ? \"POST\" : \"PUT\"),\n                credentials: \"include\",\n                body: ((mode == \"create\") ? body : JSON.stringify(productData))\n            });\n\n            if (!response.ok) {\n                throw new Error(\"Failed to create product\");\n            }\n\n            // Success\n            setMessage(\"Product created successfully!\");\n            // Reset form\n            setName(\"\");\n            setDescription(\"\");\n            setPrice(\"\");\n            // setStock(\"\");\n            setCategoryId(null);\n            setSelectedImages([]);\n            setPreviewUrls([]);\n        } catch (error) {\n            console.error(\"Error creating product:\", error);\n            setMessage(`Error: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        } finally {\n            await mutate(\"/products/index.php\");\n            setIsLoading(false);\n        }\n    };\n\n    return (\n        <div className={[poppins.className, css.container].join(\" \")}>\n            <h1 className={css.title}>Create New Product</h1>\n\n            <Card>\n                <form onSubmit={handleSubmit} className={css.form}>\n                    {/* Image Selector */}\n                    <div className={css.formGroup}>\n                        <label className={css.label}>Product Images (Up to 4)</label>\n                        <div className={css.imageSelector}>\n                            <div className={css.imagePreviewGrid}>\n                                {previewUrls.length > 0 ? (\n                                    previewUrls.map((url, index) => (\n                                        <div key={index} className={css.imagePreview}>\n                                            <Image\n                                                src={url}\n                                                alt={`Product preview ${index + 1}`}\n                                                width={200}\n                                                height={200}\n                                                style={{objectFit: \"cover\"}}\n                                            />\n                                        </div>\n                                    ))\n                                ) : (\n                                    <div className={css.imagePreview}>\n                                        <div className={css.placeholderImage}>\n                                            <span>No images selected</span>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                            <div className={css.fileInputContainer}>\n                                <input\n                                    type=\"file\"\n                                    accept=\"image/*\"\n                                    multiple\n                                    onChange={handleImageChange}\n                                    className={css.fileInput}\n                                />\n                                <p className={css.helperText}>\n                                    {selectedImages.length > 0\n                                        ? `${selectedImages.length} ${selectedImages.length === 1 ? 'image' : 'images'} selected (max 4)`\n                                        : 'Select up to 4 images'}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Product Name */}\n                    <div className={css.formGroup}>\n                        <label htmlFor=\"name\" className={css.label}>Product Name</label>\n                        <input\n                            id=\"name\"\n                            type=\"text\"\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            required\n                            className={css.input}\n                        />\n                    </div>\n\n                    {/* Product Description */}\n                    <div className={css.formGroup}>\n                        <label htmlFor=\"description\" className={css.label}>Product Description</label>\n                        <textarea\n                            id=\"description\"\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                            required\n                            className={css.textarea}\n                            rows={5}\n                        />\n                    </div>\n\n                    {/* Price */}\n                    <div className={css.formGroup}>\n                        <label htmlFor=\"price\" className={css.label}>Price</label>\n                        <input\n                            id=\"price\"\n                            type=\"number\"\n                            step=\"0.01\"\n                            value={price}\n                            onChange={(e) => setPrice(e.target.value)}\n                            required\n                            className={css.input}\n                        />\n                    </div>\n\n                    {/* Stock */}\n                    {/*<div className={css.formGroup}>*/}\n                    {/*    <label htmlFor=\"stock\" className={css.label}>Stock</label>*/}\n                    {/*    <input*/}\n                    {/*        id=\"stock\"*/}\n                    {/*        type=\"number\"*/}\n                    {/*        value={stock}*/}\n                    {/*        onChange={(e) => setStock(e.target.value)}*/}\n                    {/*        required*/}\n                    {/*        className={css.input}*/}\n                    {/*    />*/}\n                    {/*</div>*/}\n\n                    {/* Category Selector */}\n                    <div className={css.formGroup}>\n                        <label htmlFor=\"category\" className={css.label}>Category</label>\n                        <select\n                            id=\"category\"\n                            value={categoryId || \"\"}\n                            onChange={(e) => setCategoryId(e.target.value ? parseInt(e.target.value) : null)}\n                            className={css.select}\n                        >\n                            <option value=\"\">Select a category</option>\n                            {categories.map((category) => (\n                                <option key={category.id} value={category.id}>\n                                    {category.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    {/* Submit Button */}\n                    <div className={css.formGroup}>\n                        <button\n                            type=\"submit\"\n                            className={css.submitButton}\n                            disabled={isLoading}\n                        >\n                            {isLoading ? \"Fetching...\" : \"Submit\"}\n                        </button>\n                    </div>\n\n                    {/* Status Message */}\n                    {message && (\n                        <div className={css.message}>\n                            {message}\n                        </div>\n                    )}\n                </form>\n            </Card>\n        </div>\n    );\n}\n"],"names":["process","env","__NEXT_IMAGE_OPTS","getImageProps","imgProps","props","getImgProps","defaultLoader","imgConf","key","value","Object","entries","undefined","Image"],"mappings":"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","ignoreList":[0,1,2,3,6,7]}