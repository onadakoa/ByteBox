(globalThis.TURBOPACK=globalThis.TURBOPACK||[]).push(["object"==typeof document?document.currentScript:void 0,{70601:e=>{var{g:t,__dirname:r}=e;e.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},15614:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var a=e.i(70601);let t={className:a.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=a.default.variable&&(t.variable=a.default.variable);let r=t}},37234:e=>{var{g:t,__dirname:r}=e;e.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},27660:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({default:()=>r});var a=e.i(37234);let t={className:a.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=a.default.variable&&(t.variable=a.default.variable);let r=t}},63836:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660)},15141:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({}),e.i(15614),e.i(27660),e.i(63836)},27844:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({poppins:()=>a.default});var a=e.i(15614)},92197:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({mutate:()=>a.j});var a=e.i(37784)},69520:e=>{var{g:t,__dirname:r}=e;e.v({container:"ManagerButton-module__cUw3dG__container"})},14100:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ManagerButton:()=>l});var a=e.i(31636),i=e.i(69520),n=e.i(86240);function l(e){let t={width:e.width,padding:e.padding};return e.href?(0,a.jsx)(n.default,{href:e.href,children:(0,a.jsx)("button",{className:i.default.container,style:t,disabled:e.disabled,children:e.children})}):(0,a.jsx)("button",{onClick:e.onClick,className:i.default.container,style:t,disabled:e.disabled,children:e.children})}},30306:e=>{var{g:t,__dirname:r}=e;e.v({container:"ListRow-module__KhJOla__container",header:"ListRow-module__KhJOla__header"})},68326:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ListContextProvider:()=>n,ListPropertiesContext:()=>t,useListContext:()=>l});var a=e.i(31636),i=e.i(38653);let t=(0,i.createContext)({});function n(e){return(0,a.jsx)(t.Provider,{value:e,children:e.children})}function l(){return(0,i.useContext)(t)}}},76056:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ListRowHeader:()=>s,default:()=>l});var a=e.i(31636),i=e.i(30306),n=e.i(68326);function l(e){let t=(0,n.useListContext)(),r={padding:e.padding,gridTemplateColumns:t.gridTemplateColumns};return(0,a.jsx)("div",{className:[i.default.container,e.className].join(" "),style:r,children:e.children})}function s(e){let t=(0,n.useListContext)(),r={padding:e.padding,gridTemplateColumns:t.gridTemplateColumns};return(0,a.jsx)("div",{className:[i.default.container,i.default.header,e.className].join(" "),style:r,children:e.children})}},86974:e=>{var{g:t,__dirname:r}=e;e.v({container:"ListCell-module__ZsMQza__container"})},3855:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({ListCell:()=>t});var a=e.i(31636),i=e.i(86974);let t=e=>{let t={padding:e.padding,justifyContent:e.centerHorizontal?"center":void 0,textAlign:e.centerHorizontal?"center":void 0};return(0,a.jsx)("div",{className:[i.default.container,e.className].join(" "),style:t,children:e.children})}}},80882:e=>{var{g:t,__dirname:r}=e;e.v({container:"List-module__gn99Za__container"})},18671:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({List:()=>t});var a=e.i(31636),i=e.i(80882);e.i(15141);var n=e.i(27844),l=e.i(68326);let t=e=>{let t={border:e.border};return(0,a.jsx)("div",{className:[n.poppins.className,i.default.container,e.className].join(" "),style:t,children:(0,a.jsx)("div",{children:(0,a.jsx)(l.ListContextProvider,{gridTemplateColumns:e.gridTemplateColumns,children:e.children})})})}}},66681:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({OrderStatus:()=>a});var a=function(e){return e.pending="pending",e.paid="paid",e.shipping="shipping",e.delivered="delivered",e.canceled="canceled",e}({})},37288:e=>{var{g:t,__dirname:r}=e;e.v({container:"Badge-module__6EVb2G__container",default:"Badge-module__6EVb2G__default",error:"Badge-module__6EVb2G__error",info:"Badge-module__6EVb2G__info",pending:"Badge-module__6EVb2G__pending",success:"Badge-module__6EVb2G__success"})},37028:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({default:()=>n});var a=e.i(31636),i=e.i(37288);function n(e){let t={backgroundColor:e.backgroundColor,borderColor:e.borderColor,border:e.border,color:e.color,padding:e.padding};return(0,a.jsx)("div",{className:[i.default.container,e.variant?i.default[e.variant]:void 0,e.className].join(" "),style:t,children:e.children})}},26218:e=>{var{g:t,__dirname:r}=e;e.v({container:"ExpandableRow-module__76n8nG__container",content:"ExpandableRow-module__76n8nG__content",expanded:"ExpandableRow-module__76n8nG__expanded"})},36744:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({ExpandableRow:()=>s});var a=e.i(31636),i=e.i(26218),n=e.i(38653),l=e.i(76056);function s(e){let[t,r]=n.default.useState(!1),s={padding:e.padding},d={paddingLeft:e.indentation?e.indentation:void 0};return(0,a.jsxs)("div",{className:[e.className,i.default.container,t?i.default.expanded:void 0].join(" "),style:s,onClick:()=>{r(!t)},children:[(0,a.jsx)(l.default,{children:e.children}),(0,a.jsx)("div",{className:i.default.content,style:d,children:(0,a.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{backgroundColor:e.backgroundColor},children:e.content})})]})}},16488:e=>{"use strict";var{g:t,__dirname:r}=e;e.s({useDebounce:()=>i});var a=e.i(38653);function i(e,t=2e3){let[r,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},67807:e=>{var{g:t,__dirname:r}=e;e.v({action:"Manager-module__nhQrBa__action",container:"Manager-module__nhQrBa__container"})},70611:e=>{var{g:t,__dirname:r}=e;e.v({input:"MiniSearchBar-module__SrX-CW__input"})},11475:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({MiniSearchBar:()=>t});var a=e.i(31636),i=e.i(70611);e.i(15141);var n=e.i(27844);let t=e=>(0,a.jsx)("input",{className:[n.poppins.className,i.default.input].join(" "),value:e.value,onChange:e.setValue,type:"text",placeholder:"Search..."})}},47286:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({Manager:()=>t});var a=e.i(31636),i=e.i(67807),n=e.i(11475),l=e.i(18671);let t=e=>(0,a.jsxs)("div",{className:i.default.container,children:[e.dontShowAction?void 0:(0,a.jsxs)("div",{className:i.default.action,style:{gridTemplateColumns:e.actionGridTemplateColumns},children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.MiniSearchBar,{value:e.searchValue,setValue:e.setSearchValue})}),(0,a.jsx)("div",{children:e.additionalSettings}),(0,a.jsx)("div",{children:e.additionalButtons})]}),(0,a.jsx)("div",{className:i.default.table,children:(0,a.jsx)(l.List,{gridTemplateColumns:e.gridTemplateColumns,children:e.children})})]})}},21473:e=>{"use strict";var{g:t,__dirname:r}=e;{e.s({OrdersManager:()=>t});var a=e.i(31636),i=e.i(14100),n=e.i(76056),l=e.i(3855),s=e.i(47286),d=e.i(38653),o=e.i(16488),c=e.i(66681),u=e.i(37028),h=e.i(36744),p=e.i(18671),g=e.i(92197);let t=e=>{let[t,r]=(0,d.useState)(""),[v,m]=(0,d.useState)([]),[_,x]=(0,d.useState)(!0),[f,j]=(0,d.useState)(null),C=(0,o.useDebounce)(t,500);(0,d.useEffect)(()=>{(async()=>{x(!0);try{let e=await fetch(`/api/order/all.php${C?`?search=${C}`:""}`,{credentials:"include",method:"GET"});if(!e.ok)throw Error("Failed to fetch orders");let t=await e.json();m(t.d||[]),j(null)}catch(e){console.error("Error fetching orders:",e),j(e instanceof Error?e:Error("Unknown error"))}finally{x(!1)}})()},[C]);let b=async(e,t)=>{try{if(!(await fetch("/api/order/index.php",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:e,status:t})})).ok)throw Error("Failed to update order status");return m(v.map(r=>r.order_id===e?{...r,status:t}:r)),(0,g.mutate)("/api/order/index.php"),!0}catch(e){return console.error("Error updating order status:",e),!1}},L=async e=>{try{if(!(await fetch(`/api/order/cancel.php?id=${e}`,{method:"GET",credentials:"include"})).ok)throw Error("Failed to cancel order");return m(v.map(t=>t.order_id===e?{...t,status:c.OrderStatus.canceled}:t)),(0,g.mutate)("/api/order/index.php"),!0}catch(e){return console.error("Error canceling order:",e),!1}},y=e=>{let t=new Date(1e3*e);return`${t.getHours()}:${t.getMinutes()} ${t.getDate()}.${t.getMonth()+1}.${t.getFullYear()}`},S=e=>{switch(e){case c.OrderStatus.pending:return"pending";case c.OrderStatus.paid:return"success";case c.OrderStatus.shipping:return"info";case c.OrderStatus.delivered:return"success";case c.OrderStatus.canceled:return"error";default:return"pending"}};return(0,a.jsxs)(s.Manager,{gridTemplateColumns:"100px 1fr 150px 150px 150px 200px",searchValue:t,setSearchValue:e=>r(e.target.value),dontShowAction:e.dontShowAction,children:[(0,a.jsxs)(n.ListRowHeader,{children:[(0,a.jsx)(l.ListCell,{children:"#"}),(0,a.jsx)(l.ListCell,{children:"Date"}),(0,a.jsx)(l.ListCell,{children:"Total Price"}),(0,a.jsx)(l.ListCell,{children:"Author"}),(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:"Status"}),!e.dontShowItemsAction&&(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:"Action"})]}),_||f?(0,a.jsx)(n.default,{children:(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:_?"Loading...":`Error: ${f?.message}`})}):0===v.length?(0,a.jsx)(n.default,{children:(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:"No orders found"})}):v.map(t=>(0,a.jsxs)(h.ExpandableRow,{padding:"5px 0",content:(0,a.jsxs)(p.List,{gridTemplateColumns:"50px 3fr 100px 100px",children:[(0,a.jsxs)(n.ListRowHeader,{children:[(0,a.jsx)(l.ListCell,{children:"#"}),(0,a.jsx)(l.ListCell,{children:"Product"}),(0,a.jsx)(l.ListCell,{children:"Price"}),(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:"Quantity"})]}),t.items.map(e=>(0,a.jsxs)(n.default,{children:[(0,a.jsxs)(l.ListCell,{children:["#",e.product_id]}),(0,a.jsx)(l.ListCell,{children:e.name}),(0,a.jsxs)(l.ListCell,{children:[e.price," z≈Ç"]}),(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:e.quantity})]},e.order_item_id))]}),children:[(0,a.jsxs)(l.ListCell,{children:["#",t.order_id]}),(0,a.jsx)(l.ListCell,{children:y(t.created_at)}),(0,a.jsxs)(l.ListCell,{children:[t.total_price," z≈Ç"]}),(0,a.jsxs)(l.ListCell,{children:[t.first_name," ",t.last_name]}),(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:(0,a.jsx)(u.default,{variant:S(t.status),children:t.status})}),!e.dontShowItemsAction&&(0,a.jsx)(l.ListCell,{centerHorizontal:!0,children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("select",{value:t.status,onChange:e=>b(t.order_id,e.target.value),style:{marginRight:"10px"},children:Object.values(c.OrderStatus).map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),t.status!==c.OrderStatus.canceled&&(0,a.jsx)(i.ManagerButton,{onClick:()=>L(t.order_id),children:"Cancel"})]})})]},t.order_id))]})}}}}]);

//# sourceMappingURL=17d9c7ed09c5d64b.js.map