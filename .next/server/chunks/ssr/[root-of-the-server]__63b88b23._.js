module.exports={80278:a=>{var{g:b,__dirname:c}=a;a.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},79916:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(80278);let b={className:d.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},51480:a=>{var{g:b,__dirname:c}=a;a.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},87570:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(51480);let b={className:d.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},68953:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(79916),a.i(87570)},20736:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(79916),a.i(87570),a.i(68953)},25098:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({poppins:()=>d.default});var d=a.i(79916)},34124:a=>{var{g:b,__dirname:c}=a;a.v({container:"Loading-module__5VDP-q__container",pulse:"Loading-module__5VDP-q__pulse"})},7129:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({Loading:()=>f});var d=a.i(74420),e=a.i(34124);function f(a){return(0,d.jsx)("span",{className:e.default.container,children:a.children})}},13275:a=>{var{g:b,__dirname:c}=a;a.v({container:"Button-module__8cr-Ka__container"})},39922:a=>{var{g:b,__dirname:c}=a;a.v({className:"roboto_498287c9-module__wIVGaW__className"})},18684:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(39922);let b={className:d.default.className,style:{fontFamily:"'Roboto', 'Roboto Fallback'",fontWeight:400,fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},57391:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>g});var d=a.i(74420),e=a.i(13275),f=a.i(18684);function g(a){let b={"--Color":a.color||"white","--BColor":a.backgroundColor||"var(--green-color)"};return(0,d.jsx)("div",{style:b,className:[f.default.className,e.default.container].join(" "),onClick:a.onClick,children:a.children})}},63156:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Product:()=>b});var d=a.i(717),e=a.i(33459);class b{product_id=0;attachment_id=null;category_id=null;author_id=0;name="";description="";price=0;stock=0;fill(a){Object.assign(this,a)}static getFilled(a){let c=new b;return c.fill(a),c}getCategory(){return this.category_id?d.Category.getById(this.category_id):null}fetchAttachment(){return this.attachment_id?e.Attachment.fetchById(this.attachment_id):null}}}},717:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({Category:()=>b});var d=a.i(38072);class b{alias=[];id=0;name="";fill(a){Object.assign(this,a)}static getFilled(a){let c=new b;return c.fill(a),c}static async getById(a){let c=await fetch("/api/categories/index.php?id="+a),e=null;try{e=await c.json()}catch(a){console.error(`Category ERROR: ${a}`)}if(!c.ok)throw console.error(`Category ERROR: ${e}`),new d.JsonError(c.status,e);return b.getFilled(e?.d)}}}},91655:function(a){var{g:b,__dirname:c,m:d,e:e}=a;{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f={default:function(){return j},getImageProps:function(){return h}};for(var g in f)Object.defineProperty(e,g,{enumerable:!0,get:f[g]});let b=a.r(95658),c=a.r(20835),d=a.r(99705),i=b._(a.r(27073));function h(a){let{props:b}=(0,c.getImgProps)(a,{defaultLoader:i.default,imgConf:JSON.parse('{"deviceSizes":[640,750,828,1080,1200,1920,2048,3840],"imageSizes":[16,32,48,64,96,128,256,384],"path":"/_next/image","loader":"default","dangerouslyAllowSVG":false,"unoptimized":true}')});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let j=d.Image}},65171:function(a){var{g:b,__dirname:c,m:d,e:e}=a;d.exports=a.r(91655)},33459:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({ApiImage:()=>c,Attachment:()=>b});var d=a.i(38072);class b{attachment_id=0;author_id=0;creation_date=0;images=[];fill(a){Object.assign(this,a)}getImages(){return this.images.map(a=>c.getFilled(a))}static getFilled(a){let c=new b;return c.fill(a),c}static async fetchById(a){try{let c=await fetch("/api/attachments/index.php?id="+a),e=await c.json();if(!c.ok)throw new d.JsonError(c.status,e);return b.getFilled(e?.d)}catch(a){throw console.error(`Attachment ERROR: ${a}`),a}}}class c{id=0;size=0;type="";fill(a){Object.assign(this,a)}static getFilled(a){let b=new c;return b.fill(a),b}getURL(){return"/api/attachments/image.php?id="+this.id}}}},32552:a=>{var{g:b,__dirname:c}=a;a.v({bottom:"ProductView-module__K1HEGG__bottom",container:"ProductView-module__K1HEGG__container",det:"ProductView-module__K1HEGG__det",details:"ProductView-module__K1HEGG__details",name:"ProductView-module__K1HEGG__name",top:"ProductView-module__K1HEGG__top"})},97789:a=>{var{g:b,__dirname:c}=a;a.v({className:"poppins_44e0b769-module__UNp3KW__className"})},90908:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(97789);let b={className:d.default.className,style:{fontFamily:"'Poppins', 'Poppins Fallback'",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},73128:a=>{var{g:b,__dirname:c}=a;a.v({className:"roboto_3f36d792-module__uGu9Oa__className"})},75274:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(73128);let b={className:d.default.className,style:{fontFamily:"'Roboto', 'Roboto Fallback'",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},58947:a=>{var{g:b,__dirname:c}=a;a.v({container:"ImageSelector-module__HlQR2G__container",list:"ImageSelector-module__HlQR2G__list",main:"ImageSelector-module__HlQR2G__main"})},48225:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({ImageSelector:()=>j});var d=a.i(74420),e=a.i(58947),f=a.i(65171),g=a.i(22851),h=a.i(33459);function i(a){return(0,d.jsx)("div",{style:a.active?{border:"2px solid var(--primary-color)"}:void 0,onClick:a.onClick,children:(0,d.jsx)(f.default,{src:a.href,alt:"picture of product",fill:!0})})}function j(a){let[b,c]=(0,g.useState)(["https://placehold.co/600x600","https://placehold.co/400x600","https://placehold.co/600x400","https://placehold.co/300x400"]),[j,k]=(0,g.useState)(0);return(0,g.useEffect)(()=>{a.attachment_id&&h.Attachment.fetchById(a.attachment_id).then(a=>{let b=[];a.getImages().forEach(a=>{b.push(a.getURL())}),c(b)})},[a.attachment_id]),(0,d.jsxs)("div",{className:e.default.container,children:[(0,d.jsx)("div",{className:e.default.main,children:(0,d.jsx)("div",{children:(0,d.jsx)("div",{children:(0,d.jsx)(f.default,{src:b[j],alt:"picture of product",fill:!0})})})}),(0,d.jsx)("div",{className:e.default.list,children:b.map((a,b)=>(0,d.jsx)(i,{href:a,active:b==j,onClick:()=>{k(b)}},b))})]})}},52862:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>e});var d=a.i(26420);function e(a){let{data:b,error:c,isLoading:e}=(0,d.default)("/products/index.php"+(a?`?id=${a}`:""));return{isLoading:e,error:c,data:b,product:b?.d}}},47253:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({ProductView:()=>q});var d=a.i(74420),e=a.i(32552),f=a.i(90908),g=a.i(75274),h=a.i(57391),i=a.i(48225),j=a.i(18656),k=a.i(52862),l=a.i(22851),m=a.i(7129),n=a.i(63156);function o(...a){return a.join(" ")}function p({name:a,value:b}){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:a}),(0,d.jsx)("span",{children:b})]})}function q(a){let b=(0,j.useRouter)(),c=Number((0,j.useSearchParams)().get("id")),{product:q,error:r,isLoading:s}=(0,k.default)(c),[t,u]=(0,l.useState)(null),[v,w]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(isNaN(c)||c<=0)&&b.push("/"),q&&n.Product.getFilled(q).getCategory()?.then(a=>{u(a.name)})},[s]);let x=async()=>{if(!q)return;w(!0);let a=new FormData;a.append("product_id",q.product_id.toString()),a.append("quantity","1");let b=await fetch("/api/cart/index.php",{credentials:"include",method:"POST",body:a});if(!b.ok){console.error("ProductView: ",`failed to fetch, C: ${b.status}`);try{let a=await b.json();console.error("ProductView: ",a)}catch(a){console.error("ProductView: ",a)}return}w(!1)};return(0,d.jsxs)("div",{className:e.default.container,children:[(0,d.jsx)("div",{children:(0,d.jsx)(i.ImageSelector,{attachment_id:q?.attachment_id||void 0})}),(0,d.jsxs)("div",{className:e.default.details,children:[(0,d.jsxs)("div",{className:o(e.default.top),children:[(0,d.jsx)("div",{className:o(f.default.className,e.default.name),children:s||r?(0,d.jsx)(m.Loading,{children:"-"}):q.name}),(0,d.jsxs)("div",{className:o(g.default.className,e.default.det),children:[(0,d.jsx)(p,{name:"Category:",value:s||r||!t?(0,d.jsx)(m.Loading,{children:"-"}):t}),(0,d.jsx)(p,{name:"Stock:",value:s?(0,d.jsx)(m.Loading,{children:"-"}):q.stock})]})]}),(0,d.jsxs)("div",{className:e.default.bottom,children:[(0,d.jsx)("div",{className:g.default.className,children:s||r?(0,d.jsx)(m.Loading,{children:"-"}):q.price+" z≈Ç"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.default,{onClick:x,backgroundColor:"var(--primary-color)",children:s||r||v||q.stock<=0?(0,d.jsx)(m.Loading,{children:"-"}):"Add to cart"})})]})]})]})}},14772:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({ProductViewDescription:()=>b});var d=a.i(74420);a.i(20736);var e=a.i(25098),f=a.i(18656),g=a.i(22851),h=a.i(52862),i=a.i(7129);let b=()=>{let a=(0,f.useRouter)(),b=Number((0,f.useSearchParams)().get("id")),{product:c,error:j,isLoading:k}=(0,h.default)(b);return(0,g.useEffect)(()=>{(isNaN(b)||b<=0)&&a.push("/")},[b]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:e.poppins.className,children:k||j?(0,d.jsx)(i.Loading,{children:"-"}):c.name}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:e.poppins.className,children:k||j?(0,d.jsx)(i.Loading,{children:"-"}):c.description})]})}}}};

//# sourceMappingURL=%5Broot-of-the-server%5D__63b88b23._.js.map