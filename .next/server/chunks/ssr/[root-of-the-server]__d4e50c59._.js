module.exports={34124:a=>{var{g:b,__dirname:c}=a;a.v({container:"Loading-module__5VDP-q__container",pulse:"Loading-module__5VDP-q__pulse"})},7129:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({Loading:()=>f});var d=a.i(74420),e=a.i(34124);function f(a){return(0,d.jsx)("span",{className:e.default.container,children:a.children})}},77403:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({RequireAuth:()=>b});var d=a.i(74420),e=a.i(18656),f=a.i(81658);let b=a=>{let b=(0,e.useRouter)(),{isLoggedIn:c,user:g,error:h,isLoading:i}=(0,f.default)();if(i)return(0,d.jsx)(d.Fragment,{});let j=()=>{console.error("RequireAuth: ","redirecting to '",a.href||"/","'"),"back"===a.href&&b.back(),b.push(a.href||"/")};return("loggedIn"!==a.type||c)&&("admin"!==a.type||c&&0!==g.permission)?"loggedOut"===a.type&&c&&j():j(),(0,d.jsx)(d.Fragment,{})}}},80278:a=>{var{g:b,__dirname:c}=a;a.v({className:"poppins_9ac3ec3-module__ogIsha__className"})},79916:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(80278);let b={className:d.default.className,style:{fontFamily:"'Poppins', sans-serif",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},51480:a=>{var{g:b,__dirname:c}=a;a.v({className:"roboto_d5b2c989-module__7PeVaG__className"})},87570:a=>{"use strict";var{g:b,__dirname:c}=a;{a.s({default:()=>c});var d=a.i(51480);let b={className:d.default.className,style:{fontFamily:"'Roboto', sans-serif",fontStyle:"normal"}};null!=d.default.variable&&(b.variable=d.default.variable);let c=b}},68953:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(79916),a.i(87570)},20736:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({}),a.i(79916),a.i(87570),a.i(68953)},25098:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({poppins:()=>d.default});var d=a.i(79916)},53235:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({mutate:()=>d.j});var d=a.i(80661)},18656:function(a){var{g:b,__dirname:c,m:d,e:e}=a;d.exports=a.r(93433)},81658:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({default:()=>e});var d=a.i(26420);function e(){let{data:a,error:b,isLoading:c}=(0,d.default)("/user/index.php",{shouldRetryOnError:!1}),e=!0;return b&&(e=!1,console.log("useUser: ",JSON.stringify(b))),{isLoading:c,isLoggedIn:e,data:a,user:a?.d,error:b}}},48521:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({roboto:()=>d.default});var d=a.i(87570)},64835:a=>{var{g:b,__dirname:c}=a;a.v({container:"Input-module__tSvyFa__container"})},9904:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({Input:()=>g});var d=a.i(74420),e=a.i(64835),f=a.i(22851);function g(a){let[b,c]=(0,f.useState)(a.value||"");return(0,d.jsx)("div",{className:e.default.container,children:(0,d.jsx)("input",{name:a.name||void 0,onChange:b=>{void 0!=a.onChange?a.onChange(b):c(b.target.value)},value:a.value||b,type:a.type||"text",placeholder:a.placeholder||void 0})})}},41559:a=>{var{g:b,__dirname:c}=a;a.v({error:"AuthForm-module__RzedZa__error",formBody:"AuthForm-module__RzedZa__formBody",formContent:"AuthForm-module__RzedZa__formContent",formTitle:"AuthForm-module__RzedZa__formTitle",modeChanger:"AuthForm-module__RzedZa__modeChanger",submit:"AuthForm-module__RzedZa__submit"})},81256:a=>{"use strict";var{g:b,__dirname:c}=a;a.s({AuthForm:()=>n});var d=a.i(74420),e=a.i(41559);a.i(20736);var f=a.i(25098),g=a.i(48521),h=a.i(9904),i=a.i(22851),j=a.i(38072),k=a.i(7129),l=a.i(18656),m=a.i(53235);function n(){let[a,b]=(0,i.useState)(!0),[c,h]=(0,i.useState)(!1),[n,q]=(0,i.useState)(null),r=(0,l.useRouter)(),s=async b=>{b.preventDefault(),h(!0);let c=new FormData(b.target),d=j.API_HOSTNAME+(a?"login.php":"register.php"),e=await fetch(d,{method:"POST",credentials:"include",body:c});if(!e.ok){let a="error";try{a=(await e.json()).d}catch(a){console.error(a)}console.error(`AuthForm FAILED: ${a}`),q(a+` (${e.status})`),h(!1);return}let f=await e.json();0==f.c?(console.log(`AuthForm SUCCESS: ${f.d.login}`),await (0,m.mutate)("/user/index.php"),r.push("/")):(console.error(`AuthForm FAILED: ${f}`),q(f.d+` (${e.status})`)),h(!1)};return(0,d.jsx)("div",{className:e.default.container,children:(0,d.jsx)("div",{className:e.default.formBody,children:c?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(k.Loading,{})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:f.poppins.style,className:e.default.formTitle,children:a?"Zaloguj":"Zarejestruj"}),(0,d.jsxs)("form",{onSubmit:s,style:g.roboto.style,className:e.default.formContent,children:[a?(0,d.jsx)(o,{}):(0,d.jsx)(p,{}),(0,d.jsx)("div",{className:e.default.error,children:n||void 0}),(0,d.jsx)("div",{className:e.default.submit,children:(0,d.jsx)("input",{type:"submit",value:a?"Zaloguj":"Zarejestruj"})})]}),(0,d.jsxs)("div",{style:f.poppins.style,className:e.default.modeChanger,children:[a?"Nie masz konta?":"Masz już konto?",(0,d.jsxs)("span",{onClick:()=>{b(!a),q(null)},children:[a?"Zarejestruj":"Zaloguj"," się!"]})]})]})})})}function o(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{children:"Login"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.Input,{name:"login",type:"text",placeholder:"John@example.com"})}),(0,d.jsx)("div",{children:"Password"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.Input,{name:"password",type:"password",placeholder:"Your pasword"})})]})}function p(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o,{}),(0,d.jsx)("div",{children:"First Name"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.Input,{name:"first_name",type:"text",placeholder:"John"})}),(0,d.jsx)("div",{children:"Last Name"}),(0,d.jsx)("div",{children:(0,d.jsx)(h.Input,{name:"last_name",type:"text",placeholder:"Smith"})})]})}}};

//# sourceMappingURL=%5Broot-of-the-server%5D__d4e50c59._.js.map